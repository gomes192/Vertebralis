# Clean Code Architecture – Vertebralis

This repository follows a **Clean Architecture** approach adapted for a static website: clear separation of data, presentation, and content.

## Layers

```
┌─────────────────────────────────────────────────────────────┐
│  Output (deployable)                                         │
│  index.html, contato.html, equipe.html, servicos.html        │
└─────────────────────────────────────────────────────────────┘
                              ▲
                              │ build.js
                              │
┌─────────────────────────────────────────────────────────────┐
│  Presentation                                                │
│  templates/ (head, nav, footer)  +  pages/ (main content)     │
└─────────────────────────────────────────────────────────────┘
                              │
┌─────────────────────────────────────────────────────────────┐
│  Data (single source of truth)                               │
│  data/site.json (nav, contact, footer, site meta)            │
└─────────────────────────────────────────────────────────────┘
```

### 1. Data layer (`data/`)

- **`site.json`** – Single source of truth for:
  - Site name, tagline, logo alt text
  - Navigation items (id, href, label)
  - Contact info (CNPJ, address, phones, email, map)
  - Footer text

**Rule:** Any change to nav, contact, or footer text is done here only. The build uses this file to generate HTML.

### 2. Presentation layer

**Templates (`templates/`)**

- **`head.html`** – Meta, title, styles (placeholders: `{{title}}`, `{{description}}`).
- **`nav.html`** – Navbar structure (placeholders: `{{logoAlt}}`, `{{navClass}}`, `{{navItems}}`). `{{navItems}}` is generated by the build from `data/site.json` with the correct active state per page.
- **`footer.html`** – Footer and scripts (placeholders: `{{footerMargin}}`, `{{footerText}}`).

**Pages (`pages/`)**

- One file per route: `index.html`, `contato.html`, `equipe.html`, `servicos.html`.
- Each file contains **only the `<main>...</main>` content** for that page.
- `contato.html` may use placeholders like `{{cnpj}}`, `{{address}}`, etc.; the build injects values from `data/site.json`.

### 3. Styles (`css/`)

Styles are split by responsibility (Clean Code / maintainability):

- **`base/`** – Design tokens and base styles  
  - `variables.css` – Colors and theme (e.g. `--vertebralis-blue`).  
  - `base.css` – Body, headings.
- **`components/`** – Reusable UI blocks  
  - `navbar.css`, `buttons.css`, `cards.css`, `footer.css`.
- **`layout/`** – Page structure and sections  
  - `hero.css`, `sections.css`.

**Entry point:** `css/style.css` imports all of the above in order. HTML only links to `css/style.css`.

### 4. Build (`build.js`)

- Reads `data/site.json`, `templates/*.html`, and `pages/*.html`.
- For each page: resolves placeholders, builds nav with active state, injects contact data for the contact page.
- Writes full HTML files to the **repository root** (where the site is served from).

**Run:** `npm run build` or `node build.js`.

**Requirement:** Node.js (no extra npm dependencies).

## Conventions

1. **No duplicated nav/footer/contact** – Edit `data/site.json` and templates; regenerate with `npm run build`.
2. **New page** – Add an entry in `build.js` `pages` array, add a content file under `pages/`, run build.
3. **New style** – Add a file under `base/`, `components/`, or `layout/`, and add an `@import` in `css/style.css`.
4. **Assets** – Static files (images, logo) live under `assets/` and are referenced by path (e.g. `assets/logo.png`).

## File tree (summary)

```
Vertebralis/
├── data/
│   └── site.json
├── templates/
│   ├── head.html
│   ├── nav.html
│   └── footer.html
├── pages/
│   ├── index.html
│   ├── contato.html
│   ├── equipe.html
│   └── servicos.html
├── css/
│   ├── style.css          # entry point (imports below)
│   ├── base/
│   │   ├── variables.css
│   │   └── base.css
│   ├── components/
│   │   ├── navbar.css
│   │   ├── buttons.css
│   │   ├── cards.css
│   │   └── footer.css
│   └── layout/
│       ├── hero.css
│       └── sections.css
├── assets/
│   └── logo.png
├── build.js
├── package.json
├── index.html              # generated
├── contato.html            # generated
├── equipe.html             # generated
├── servicos.html           # generated
├── ARCHITECTURE.md
└── README.md
```

This keeps **data**, **structure**, and **content** separate and makes the project easy to extend and maintain.
